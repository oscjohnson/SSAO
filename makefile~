OUT = bin/main
CC = g++
ODIR = build
SDIR = src
INC = -Iinclude
CFLAGS = -c -Wall 

OS_NAME := $(shell uname -s)

ifeq ($(OS_NAME), Linux)
LDFLAGS = `pkg-config --libs glfw3` -lGL -lGLU -lX11 -lXxf86vm -lpthread\
		  -lXrandr -lXi `pkg-config --libs assimp`
else
LDFLAGS = `pkg-config --libs glfw3` -lglfw3 -framework OpenGL -framework Cocoa \
		  `pkg-config --libs assimp` 
endif

<<<<<<< HEAD
_OBJS = main.o ShaderProgram.o Shader.o Renderer.o Model.o \
		Window.o Camera.o
=======
SRCS = $(wildcard src/*.cpp)
OBJS = $(SRCS:src/%.cpp=build/%.o)
>>>>>>> d46752b365f2181d41fc47c41d7022d9b6b2f957

$(ODIR)/%.o: $(SDIR)/%.cpp  
	@test -d build || mkdir -p build
	$(CC) $(CFLAGS) $(INC) -o $@ $< $(CFLAGS) 

$(OUT): $(OBJS) 
	@$(CC) $(OBJS) -o $(OUT) $(LDFLAGS)

.PHONY: clean

clean:
	@rm -f $(ODIR)/*.o $(OUT)
